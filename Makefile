NAME = push_swap

OBJ = bin/push_swap.o bin/split.o bin/lst.o bin/stack.o bin/math.o bin/stack_oper.o bin/lst_oper.o bin/lst_get.o

BIN = bin
FLAGS = -Wall -Wextra -Werror -g -fsanitize=address

ECHO = echo
RED = \033[31m
GRE = \033[32m
GRA = \033[37m
BLU = \033[34m
EOC = \033[0m

all: $(NAME)

bin/%.o: %.c
	@$(ECHO) "$(BLU)‚óè Compiling $^ üîß$(EOC)"
	@rm -rf $(NAME) $(OBJ_UNUSED)
	@mkdir -p $(BIN)
	@gcc $(FLAGS) -c $^ -o $@

$(NAME): $(OBJ)
	@$(ECHO) "$(GRE)‚óè Compiling to binary ‚öôÔ∏è $(EOC)"
	@gcc $(FLAGS) $(OBJ) -o $(NAME)

clean:
	@$(ECHO) "$(RED)‚óè Removing /$(BIN) üìÅ$(EOC)"
	@rm -rf $(BIN)

fclean: clean
	@$(ECHO) "$(RED)‚óè Removing binary ‚öôÔ∏è $(EOC)"
	@rm -rf $(NAME)

re: fclean all

score: all
	./push_swap 41 57 81 67 4 21 15 88 32 53 97 99 49 8 73 29 33 80 37 22 31 65 87 60 69 66 45 47 34 23 92 17 64 2 61 42 54 95 7 11 70 35 24 12 96 44 20 71 46 89 19 82 56 86 5 39 43 28 36 72 83 40 59 58 100 25 55 85 77 63 9 76 26 38 84 3 50 27 1 51 18 90 6 68 74 13 93 91 75 16 14 10 78 94 79 52 48 30 98 62 | wc -l
	./push_swap 117 479 279 189 118 497 330 252 343 481 419 256 25 492 489 462 174 113 347 194 266 1 317 374 345 96 435 315 357 171 386 453 417 391 11 352 3 103 121 412 331 340 9 165 6 336 68 372 125 36 95 109 282 226 313 229 27 413 438 421 140 254 406 10 119 208 144 257 271 230 139 258 436 157 321 145 415 399 358 354 362 130 432 472 366 202 427 484 395 241 228 185 375 448 180 55 183 108 402 316 500 384 288 355 495 341 131 300 207 498 215 38 16 308 273 474 447 158 160 452 170 94 387 39 370 24 197 100 29 73 420 443 4 51 2 278 350 311 297 163 66 223 327 181 33 220 190 233 240 52 339 467 346 276 480 245 81 195 74 442 322 153 280 309 326 451 377 114 348 30 325 56 146 458 221 162 101 302 204 268 23 405 192 115 454 332 485 141 46 478 371 477 304 364 378 225 470 303 283 82 129 368 188 237 5 147 91 263 383 217 70 367 78 112 433 457 161 319 390 373 173 267 338 201 353 487 314 416 244 344 292 329 99 47 134 475 72 191 289 253 122 361 57 476 26 306 400 425 423 337 422 418 301 90 473 127 463 149 232 262 200 150 468 116 430 58 44 65 80 363 17 356 167 455 178 449 34 142 285 409 21 486 396 269 71 187 135 424 48 7 42 434 53 152 299 407 216 307 251 218 62 328 291 287 93 398 138 136 69 446 14 310 199 411 156 397 214 59 293 408 151 275 437 154 359 120 85 281 394 249 88 213 234 60 277 392 401 286 236 247 494 224 98 488 219 410 465 312 456 460 64 31 50 227 335 182 63 123 126 198 124 235 365 284 75 389 388 450 143 169 231 168 369 333 444 403 184 22 12 61 211 250 490 379 79 382 246 84 176 385 212 166 77 260 349 270 18 8 172 380 133 499 439 429 28 482 243 35 193 97 210 324 404 159 483 259 179 491 209 196 459 428 186 205 381 342 376 334 318 15 320 239 107 305 89 54 87 248 45 295 32 272 164 106 469 175 83 274 110 92 222 323 294 206 360 102 203 242 440 13 132 296 41 351 67 461 177 111 49 238 414 298 128 493 255 19 471 137 86 290 148 40 441 37 496 426 265 43 466 445 264 20 155 261 431 104 105 76 393 464 | wc -l

.PHONY: all bonus clean fclean re
